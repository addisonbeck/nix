keys:
  - &admin_gpg F21DD334920ECB120F786117366AB9D6FB8574D2
  - &admin_secondary_gpg 22D63219CA650B662B7A1B3C7CD5BEC5074C4BB2
  - &admin_tertiary_gpg 3E936A82284D97AF53279821567BD1FB14C80DA9
  - &host_homelab age129slta36phpnzzcwl806skp2aqnr9tdtvs8mgjza2ewxhljswvxsewrtm5
  - &host_bw age12708jpycle7nwaenauqgqfum2vgnuj9zr84ngukpv0thrvwm99fq8cw4dn
  - &user_me_bw age1ruhpue5f7trlseng7ltmfl7mw678alufawpw5cyl6ehzpfxfy3xqnxf937

creation_rules:
  # User
  - path_regex: secrets/(.*github-ssh.*|.*authinfo.*|.*ssh-keys.*|.*known_hosts.*|.*jira-token.*)$
    key_groups:
    - age:
      - *user_me_bw
      pgp:
      - *admin_gpg
      - *admin_secondary_gpg
      - *admin_tertiary_gpg
  # Homelab
  - path_regex: secrets/(.*grafana.*|.*adguard.*|.*vaultwarden.*|.*freshrss.*)$
    key_groups:
    - age:
      - *host_homelab
      pgp:
      - *admin_gpg
      - *admin_secondary_gpg
      - *admin_tertiary_gpg

  # Homelab + Bw Host
  - path_regex: secrets/(.*automated-emailing.*).yaml$
    key_groups:
    - age:
      - *host_homelab
      - *host_bw
      pgp:
      - *admin_gpg
      - *admin_secondary_gpg
      - *admin_tertiary_gpg

  # Test key for asserting gpg only works
  - path_regex: secrets/testing.yaml$
    key_groups:
    - pgp:
      - *admin_gpg
      - *admin_secondary_gpg
      - *admin_tertiary_gpg

  # Default
  - path_regex: secrets/.*\.yaml$
    key_groups:
    - pgp:
      - *admin_gpg
      - *admin_secondary_gpg
      - *admin_tertiary_gpg